;(function($,_,undefined){"use strict";ips.controller.mixin('support.requestTable','core.global.core.table',false,function(){this.before('setup',function(){this._otherParams.push('department');this._otherParams.push('statuses');this._sideMenu=this.scope.find('#elSupport_menu');});this.after('initialize',function(){this.on('itemClicked.sideMenu',this.changeRequestView);});this._getSortValue=function(){return{by:$('#elSortMenu_menu .ipsMenu_itemChecked').attr('data-ipsmenuvalue'),order:$('#elOrderMenu_menu .ipsMenu_itemChecked').attr('data-ipsmenuvalue')};};this.changeRequestView=function(e,data){var types={department:[],status:[],assigned:false,tracked:false,replied:false};if(data.selectedElem.attr('data-filter')){this._sideMenu.find('.ipsSideMenu_itemActive').not(data.selectedElem).removeClass('ipsSideMenu_itemActive');}
var selected=this._sideMenu.find('.ipsSideMenu_itemActive');if(selected.length){selected.each(function(i,elem){var elem=$(elem);if(elem.attr('data-type')){types[elem.attr('data-type')].push(elem.attr('data-ipsMenuValue'));}else if(elem.attr('data-support-filter')){types[elem.attr('data-support-filter')]=true;}});}
this.updateURL({departments:types.department.join(','),statuses:types.status.join(','),assigned:types.assigned,tracked:types.tracked,replied:types.replied,page:1});}});}(jQuery,_));;