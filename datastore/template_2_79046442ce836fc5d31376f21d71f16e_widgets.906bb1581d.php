<?php

return <<<'VALUE'
"namespace IPS\\Theme;\nclass class_videos_front_widgets extends \\IPS\\Theme\\Template\n{\n\t\t\tfunction videosComments( $comments, $orientation='vertical' ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( \\IPS\\Settings::i()->vs_enable_comments AND \\IPS\\Member::loggedIn()->group['g_vs_view_comments'] ):\n$return .= <<<CONTENT\n\r\n    <h3 class='ipsWidget_title ipsType_reset'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'block_videosComments', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\r\n    <div class='ipsWidget_inner'>\r\n    \nCONTENT;\n\nif ( $orientation == 'vertical' ):\n$return .= <<<CONTENT\n\r\n    \t<div class='ipsPad_half'>\r\n            \nCONTENT;\n\nif ( count( $comments ) ):\n$return .= <<<CONTENT\n        \r\n        \t\t<ul class='ipsDataList ipsDataList_reducedSpacing'>\r\n        \t\t\t\nCONTENT;\n\nforeach ( $comments as $row ):\n$return .= <<<CONTENT\n\r\n        \t\t\t\t<li class='ipsDataItem'>\r\n        \t\t\t\t\t<div class='ipsDataItem_icon ipsPos_top'>\r\n        \t\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->userPhoto( $row->author(), 'tiny' );\n$return .= <<<CONTENT\n\r\n        \t\t\t\t\t<\/div>\r\n        \t\t\t\t\t<div class='ipsDataItem_main'>\r\n        \t\t\t\t\t\t<a href=\"\nCONTENT;\n$return .= htmlspecialchars( $row->url(), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" class='ipsDataItem_title ipsType_break'>\nCONTENT;\n\n$return .= \\IPS\\Lang::wordbreak( htmlspecialchars( $row->item()->title, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ) );\n$return .= <<<CONTENT\n<\/a><br>\r\n        \t\t\t\t\t\t<span class='ipsType_light ipsType_small'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'videos_by', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n: {$row->author()->link()} &middot; \nCONTENT;\n\n$val = ( $row->date_added instanceof \\IPS\\DateTime ) ? $row->date_added : \\IPS\\DateTime::ts( $row->date_added );$return .= (string) $val->localeDate();\n$return .= <<<CONTENT\n<\/span>\r\n        \t\t\t\t\t\t<div class='ipsType_small ipsType_textBlock ipsType_richText ipsType_break' data-ipsTruncate data-ipsTruncate-type='remove' data-ipsTruncate-size='6 lines'>\r\n        \t\t\t\t\t\t\t{$row->truncated( true )}\r\n        \t\t\t\t\t\t<\/div>\r\n        \t\t\t\t\t<\/div>\r\n        \t\t\t\t<\/li>\r\n        \t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\r\n        \t\t\t<li class='ipsDataItem'>\r\n        \t\t\t\t<div class='ipsDataItem_main ipsType_small ipsType_light ipsType_center'>\r\n                            <a href='\nCONTENT;\n\n$return .= str_replace( '&', '&amp;', \\IPS\\Http\\Url::internal( \"app=videos&module=videos&controller=comments\", null, \"videos_comments\", array(), 0 ) );\n$return .= <<<CONTENT\n'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'view_all_comments', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a>\r\n        \t\t\t\t<\/div>\r\n        \t\t\t<\/li>                \r\n        \t\t<\/ul>\r\n    \t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\r\n    \t\t\t<p class='ipsType_reset'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'no_new_video_comments', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/p>\r\n    \t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n          \r\n    \t<\/div>\r\n    \nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\r\n    \t\t\nCONTENT;\n\nif ( count( $comments ) ):\n$return .= <<<CONTENT\n\r\n        \t\t<ul class='ipsGrid ipsGrid_collapsePhone ipsWidget_columns'>\r\n        \t\t\t\nCONTENT;\n\nforeach ( $comments as $idx => $row ):\n$return .= <<<CONTENT\n\r\n        \t\t\t\t\nCONTENT;\n\nif ( $idx < 4 ):\n$return .= <<<CONTENT\n\r\n        \t\t\t\t\t<li class='ipsDataItem ipsGrid_span3'>\r\n        \t\t\t\t\t\t<div class='ipsDataItem_icon ipsPos_top'>\r\n        \t\t\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->userPhoto( $row->author(), 'tiny' );\n$return .= <<<CONTENT\n\r\n        \t\t\t\t\t\t<\/div>\r\n        \t\t\t\t\t\t<div class='ipsDataItem_main'>\r\n        \t\t\t\t\t\t\t<a href=\"\nCONTENT;\n$return .= htmlspecialchars( $row->url(), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" class='ipsDataItem_title ipsType_break'>\nCONTENT;\n\n$return .= \\IPS\\Lang::wordbreak( htmlspecialchars( $row->item()->title, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ) );\n$return .= <<<CONTENT\n<\/a><br>\r\n        \t\t\t\t\t\t\t<span class='ipsType_light ipsType_small'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'videos_by', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n: {$row->author()->link()} &middot; \nCONTENT;\n\n$val = ( $row->date_added instanceof \\IPS\\DateTime ) ? $row->date_added : \\IPS\\DateTime::ts( $row->date_added );$return .= (string) $val->localeDate();\n$return .= <<<CONTENT\n<\/span>\r\n        \t\t\t\t\t\t\t<div class='ipsType_small ipsType_textBlock ipsType_richText ipsType_break' data-ipsTruncate data-ipsTruncate-type='remove' data-ipsTruncate-size='2 lines'>\r\n        \t\t\t\t\t\t\t\t{$row->truncated( true )}\r\n        \t\t\t\t\t\t\t<\/div>\r\n        \t\t\t\t\t\t<\/div>\r\n        \t\t\t\t\t<\/li>\t\t\t\t\t\t\r\n        \t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\r\n        \t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\r\n        \t\t<\/ul>\r\n    \t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\r\n    \t\t\t<p class='ipsType_reset'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'no_new_video_comments', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/p>\r\n    \t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n        \r\n    \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\r\n    <\/div>\r\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction videosStats( $stats, $latestVideo, $orientation='vertical' ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<h3 class='ipsType_reset ipsWidget_title'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'block_videosStats', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n<div class='ipsWidget_inner'>\n\t\nCONTENT;\n\nif ( $orientation == 'vertical' ):\n$return .= <<<CONTENT\n\n\t\t<div class='ipsPad_half'>\n\t\t\t<ul class='ipsDataList' id='elVideoStats'>\n\t\t\t\t<li class='ipsDataItem'>\n\t\t\t\t\t<div class='ipsDataItem_main ipsPos_middle'>\n\t\t\t\t\t\t<strong>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'total_videos', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/strong>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class='ipsDataItem_stats ipsDataItem_statsLarge'>\n\t\t\t\t\t\t<span class='ipsDataItem_stats_number'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->formatNumber( $stats['totalVideos'] );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/li>\n\t\t\t\t<li class='ipsDataItem'>\n\t\t\t\t\t<div class='ipsDataItem_main ipsPos_middle'>\n\t\t\t\t\t\t<strong>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'total_video_submitters', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/strong>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class='ipsDataItem_stats ipsDataItem_statsLarge'>\n\t\t\t\t\t\t<span class='ipsDataItem_stats_number'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->formatNumber( $stats['totalSubmitters'] );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/li>                \n\t\t\t\t\nCONTENT;\n\nif ( \\IPS\\Settings::i()->vs_enable_comments AND $stats['totalComments'] ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<li class='ipsDataItem'>\n\t\t\t\t\t\t<div class='ipsDataItem_main ipsPos_middle'>\n\t\t\t\t\t\t\t<strong>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'total_video_comments', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/strong>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class='ipsDataItem_stats ipsDataItem_statsLarge'>\n\t\t\t\t\t\t\t<span class='ipsDataItem_stats_number'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->formatNumber( $stats['totalComments'] );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/li>\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t<li class='ipsDataItem'>\n\t\t\t\t\t<div class='ipsDataItem_main ipsPos_middle'>\n\t\t\t\t\t\t<strong>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'total_video_views', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/strong>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class='ipsDataItem_stats ipsDataItem_statsLarge'>\n\t\t\t\t\t\t<span class='ipsDataItem_stats_number'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->formatNumber( $stats['totalViews'] );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/li>\n\t\t\t<\/ul>\n\t\t\t<hr class='ipsHr'>\n\t\t\t\nCONTENT;\n\nif ( $latestVideo ):\n$return .= <<<CONTENT\n\n\t\t\t\t<div id='elVideoStatsLatest' class='ipsClearfix'>\n\t\t\t\t\t<span class='ipsPos_left'>\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->userPhoto( $latestVideo->author(), 'small' );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t\t<div class='ipsWidget_latestItem'>\n\t\t\t\t\t\t<strong class='ipsType_small ipsType_uppercase'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'latest_video', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/strong><br>\n\t\t\t\t\t\t<a href=\"\nCONTENT;\n$return .= htmlspecialchars( $latestVideo->url(), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" class='ipsTruncate ipsTruncate_line'>\nCONTENT;\n\n$return .= \\IPS\\Lang::wordbreak( htmlspecialchars( $latestVideo->title, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ) );\n$return .= <<<CONTENT\n<\/a>\n\t\t\t\t\t\t<span class='ipsType_light ipsType_medium'>\nCONTENT;\n\n$htmlsprintf = array($latestVideo->author()->link()); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'byline_nodate', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), FALSE, array( 'htmlsprintf' => $htmlsprintf ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t<\/div>\n\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\n$columns = 4;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\n$columns += ( \\IPS\\Settings::i()->vs_enable_comments AND $stats['totalComments'] ) ? 2 : 0;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\n$span = 12 \/ $columns;\n$return .= <<<CONTENT\n\n\t\t<div class='ipsGrid ipsGrid_collapsePhone ipsWidget_stats'>\n\t\t\t<div class='ipsGrid_span\nCONTENT;\n$return .= htmlspecialchars( $span, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n ipsType_center cVideoWidget_statsNumber'>\n\t\t\t\t<span class='ipsType_large ipsWidget_statsCount'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->formatNumber( $stats['totalVideos'] );\n$return .= <<<CONTENT\n<\/span><br>\n\t\t\t\t<span class='ipsType_light ipsType_medium'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'total_videos', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t<\/div>\n\t\t\t<div class='ipsGrid_span\nCONTENT;\n$return .= htmlspecialchars( $span, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n ipsType_center cVideoWidget_statsNumber'>\n\t\t\t\t<span class='ipsType_large ipsWidget_statsCount'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->formatNumber( $stats['totalSubmitters'] );\n$return .= <<<CONTENT\n<\/span><br>\n\t\t\t\t<span class='ipsType_light ipsType_medium'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'total_video_submitters', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t<\/div>            \n\t\t\t\nCONTENT;\n\nif ( \\IPS\\Settings::i()->vs_enable_comments AND $stats['totalComments'] ):\n$return .= <<<CONTENT\n\n\t\t\t\t<div class='ipsGrid_span\nCONTENT;\n$return .= htmlspecialchars( $span, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n ipsType_center cVideoWidget_statsNumber'>\n\t\t\t\t\t<span class='ipsType_large ipsWidget_statsCount'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->formatNumber( $stats['totalComments'] );\n$return .= <<<CONTENT\n<\/span><br>\n\t\t\t\t\t<span class='ipsType_light ipsType_medium'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'total_video_comments', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t<\/div>\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t<div class='ipsGrid_span\nCONTENT;\n$return .= htmlspecialchars( $span, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n ipsType_center cVideoWidget_statsNumber'>\n\t\t\t\t<span class='ipsType_large ipsWidget_statsCount'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->formatNumber( $stats['totalViews'] );\n$return .= <<<CONTENT\n<\/span><br>\n\t\t\t\t<span class='ipsType_light ipsType_medium'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'total_video_views', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t<\/div>\n\t\t\t\nCONTENT;\n\nif ( $latestVideo ):\n$return .= <<<CONTENT\n\n\t\t\t\t<div class='ipsGrid_span\nCONTENT;\n$return .= htmlspecialchars( $span, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n ipsType_left cNewestMember'>\n\t\t\t\t\t<div id='elVideoStatsLatest' class='ipsClearfix'>\n\t\t\t\t\t\t<span class='ipsType_minorHeading'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'latest_video', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span><br>\n\t\t\t\t\t\t<a href=\"\nCONTENT;\n$return .= htmlspecialchars( $latestVideo->url(), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" class='ipsTruncate ipsTruncate_line'>\nCONTENT;\n\n$return .= \\IPS\\Lang::wordbreak( htmlspecialchars( $latestVideo->title, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ) );\n$return .= <<<CONTENT\n<\/a>\n\t\t\t\t\t\t<span class='ipsType_light ipsType_medium'>\nCONTENT;\n\n$htmlsprintf = array($latestVideo->author()->link()); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'byline_nodate', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), FALSE, array( 'htmlsprintf' => $htmlsprintf ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t<\/div>\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction videosVideos( $videos, $orderField='date', $widgetTitle, $orientation='vertical' ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( $orientation == 'vertical' ):\n$return .= <<<CONTENT\n\r\n    <h3 class='ipsWidget_title ipsType_reset'>\nCONTENT;\n\nif ( $widgetTitle ):\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlspecialchars( $widgetTitle, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\nCONTENT;\n\nif ( $orderField == 'last_updated' ):\n$return .= <<<CONTENT\n\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'block_videosVideos_last_updated', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\nCONTENT;\n\nelseif ( $orderField == 'video_rating' ):\n$return .= <<<CONTENT\n\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'block_videosVideos_top_rated', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'block_videosVideos_latest_videos', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n<\/h3>\r\n    <div class='ipsWidget_inner'>\r\n    \t<div class='ipsPad_half'>\r\n            \nCONTENT;\n\nif ( count( $videos ) ):\n$return .= <<<CONTENT\n\r\n                <ul class='ipsDataList ipsDataList_reducedSpacing'>\r\n    \t\t\t\t\nCONTENT;\n\nforeach ( $videos as $row ):\n$return .= <<<CONTENT\n\r\n    \t\t\t\t\t<li class='ipsDataItem'>\r\n    \t\t\t\t\t\t<div class='ipsDataItem_icon ipsPos_top'>\r\n                                \nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"videos\" )->thumb( $row, 'tiny' );\n$return .= <<<CONTENT\n\r\n    \t\t\t\t\t\t<\/div>\r\n    \t\t\t\t\t\t<div class='ipsDataItem_main'>\r\n                                \nCONTENT;\n\nif ( \\IPS\\Settings::i()->vs_enable_comments AND \\IPS\\Member::loggedIn()->group['g_vs_view_comments'] ):\n$return .= <<<CONTENT\n\r\n                                    <div class=\"ipsCommentCount ipsPos_right \nCONTENT;\n\nif ( ( $row->num_comments ) === 0 ):\n$return .= <<<CONTENT\nipsFaded\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\" data-ipsTooltip title='\nCONTENT;\n\n$pluralize = array( $row->num_comments ); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'num_video_comments', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), FALSE, array( 'pluralize' => $pluralize ) );\n$return .= <<<CONTENT\n'>\nCONTENT;\n\n$return .= htmlspecialchars( $row->num_comments, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/div>\r\n                                \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\r\n    \r\n    \t\t\t\t\t\t\t<a href=\"\nCONTENT;\n$return .= htmlspecialchars( $row->url(), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" class='ipsDataItem_title ipsType_break'>\nCONTENT;\n\n$return .= \\IPS\\Lang::wordbreak( htmlspecialchars( $row->title, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ) );\n$return .= <<<CONTENT\n<\/a>\r\n                                \nCONTENT;\n\nif ( $orderField == 'video_rating' AND $row->averageRating() ):\n$return .= <<<CONTENT\n<br>\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->rating( 'small', $row->averageRating() );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n<br>\r\n    \t\t\t\t\t\t\t<span class='ipsType_light ipsType_small'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'videos_by', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n: {$row->author()->link()} &middot; \nCONTENT;\n\n$val = ( ( $orderField == 'last_updated' AND $row->last_updated ) ? $row->last_updated : $row->date instanceof \\IPS\\DateTime ) ? ( $orderField == 'last_updated' AND $row->last_updated ) ? $row->last_updated : $row->date : \\IPS\\DateTime::ts( ( $orderField == 'last_updated' AND $row->last_updated ) ? $row->last_updated : $row->date );$return .= (string) $val->localeDate();\n$return .= <<<CONTENT\n<\/span>\r\n    \t\t\t\t\t\t<\/div>\r\n    \t\t\t\t\t<\/li>\r\n    \t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\r\n     \t\t\t\t<li class='ipsDataItem'>\r\n    \t\t\t\t\t<div class='ipsDataItem_main ipsType_small ipsType_light ipsType_center'>\r\n                            <a \nCONTENT;\n\nif ( $orderField == 'date' ):\n$return .= <<<CONTENT\nhref='\nCONTENT;\n\n$return .= str_replace( '&', '&amp;', \\IPS\\Http\\Url::internal( \"app=videos&module=videos&controller=browse&do=listall\", null, \"videos_listall\", array(), 0 ) );\n$return .= <<<CONTENT\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\nhref='\nCONTENT;\n\n$return .= str_replace( '&', '&amp;', \\IPS\\Http\\Url::internal( \"app=videos&module=videos&controller=browse&do=listall&sortby={$orderField}&sortdirection=desc\", null, \"videos_listall\", array(), 0 ) );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'view_all_videos', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a>\r\n    \t\t\t\t\t<\/div>\r\n    \t\t\t\t<\/li>                    \r\n                <\/ul>\r\n    \t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\r\n    \t\t\t<p class='ipsType_reset'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'no_new_videos', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/p>\r\n    \t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n                    \r\n    \t<\/div>\r\n    <\/div>    \r\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\r\n    <h3 class='ipsWidget_title ipsType_reset'>\nCONTENT;\n\nif ( $widgetTitle ):\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlspecialchars( $widgetTitle, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\nCONTENT;\n\nif ( $orderField == 'last_updated' ):\n$return .= <<<CONTENT\n\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'block_videosVideos_last_updated', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\nCONTENT;\n\nelseif ( $orderField == 'video_rating' ):\n$return .= <<<CONTENT\n\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'block_videosVideos_top_rated', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'block_videosVideos_latest_videos', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n<\/h3>\r\n    <div class='ipsWidget_inner'>\r\n\t\t\nCONTENT;\n\nif ( count( $videos ) ):\n$return .= <<<CONTENT\n\r\n\t\t\t<ul class='ipsGrid ipsGrid_collapsePhone ipsWidget_columns'>\r\n\t\t\t\t\nCONTENT;\n\nforeach ( $videos as $idx => $row ):\n$return .= <<<CONTENT\n\r\n                    <li class='ipsGrid_span3 ipsType_center ipsType_blendLinks ipsClearfix ipsPad_half' style='min-width: 150px;'>\r\n                    \t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"videos\" )->thumb( $row );\n$return .= <<<CONTENT\n\r\n                \t\t<div class='ipsSpacer_top ipsSpacer_half'>\r\n                \t\t\t<h3 class='ipsType_normal ipsType_reset ipsTruncate ipsTruncate_line' data-ipsTruncate data-ipsTruncate-size='1 lines' data-ipsTruncate-type='remove'>\r\n                                <a href='\nCONTENT;\n$return .= htmlspecialchars( $row->url(), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' title='\nCONTENT;\n\n$sprintf = array($row->title); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'view_this', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), FALSE, array( 'sprintf' => $sprintf ) );\n$return .= <<<CONTENT\n'>\nCONTENT;\n$return .= htmlspecialchars( $row->title, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/a>\r\n                \t\t\t<\/h3>\r\n                \t\t\t<span class='ipsType_light ipsType_small'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'videos_by', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n: {$row->author()->link()} &middot; \nCONTENT;\n\n$val = ( $row->date instanceof \\IPS\\DateTime ) ? $row->date : \\IPS\\DateTime::ts( $row->date );$return .= (string) $val->localeDate();\n$return .= <<<CONTENT\n<\/span>                 \t\t\r\n                        <\/div>\r\n                    <\/li>\r\n\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\r\n\t\t\t<\/ul>\r\n\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\r\n\t\t\t<p class='ipsType_reset'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'no_new_videos', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/p>\r\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\r\n    <\/div>\r\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\treturn $return;\n}}"
VALUE;
